<html id="model-create" ng-controller="ModelCatalogCreateCtrl" >
<head>
    <nav class="navbar ">   
    <h1 align=center> Create a new model</h1>
    </nav>
</head>
<body>
     <nav>
     <a class="button-MC" ng-href="#/model-catalog/" class="btn btn-primary">back </a>
     </nav>


<div>
    <form class="simple-form">
        <table >
            <tbody>
                <tr>
                    <td>
                        <table id="table-create">
                            <tbody>
                                <tr>
                                    <td>
                                         <b>Name:</b>
                                    </td>
                                    <td>
                                        <input type="text" ng-model="model.name" required/>
                                    </td>    
                                </tr>
                                <tr>
                                    <td>
                                         <b>Author:</b>
                                    </td>
                                    <td>
                                        <input type="text" ng-model="model.author" required/>
                                    </td>
                                </tr>
                                <tr>
                                     <td>
                                         <b>Version Name:</b>
                                    </td>
                                    <td>
                                        <input type="text" ng-model="model_instance.version" required/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                         <b>Parameters:</b>
                                    </td>
                                    <td>
                                        <textarea class="scrollabletextbox" rows="5" cols="50"  ng-model="model_instance.parameters"> </textarea>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                    <td>
                        <table  id="table-create">
                            <tbody>
                                <tr>
                                    <td>
                                         <b>Species:</b>
                                    </td>
                                    <td>
                                        <select id="select-species" data-style="btn-primary" ng-model="model.species" required>
                                         <option ng-repeat="s in species" value="{{s.id}}">{{s.name}}</option>
                                    </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                         <b>Brain region: </b>
                                    </td>
                                    <td>
                                        <select id="select-brain-region" data-style="btn-primary" ng-model="model.brain_region" required>
                                         <option ng-repeat="br in brain_region" value="{{br.id}}">{{br.name}}</option>
                                    </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                         <b>Cell type:</b>
                                    </td>
                                    <td>
                                        <select id="select-cell-type" data-style="btn-primary" ng-model="model.cell_type" required>
                                         <option ng-repeat="ct in cell_type" value="{{ct.id}}">{{ct.name}}</option>
                                    </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                         <b>Model type:</b>
                                    </td>
                                    <td>
                                        <select id="select-model-type" data-style="btn-primary" ng-model="model.model_type" required>
                                         <option ng-repeat="mt in model_type" value="{{mt.id}}">{{mt.name}}</option>
                                    </select>
                                    </td>
                                </tr>
                                <tr>
                                     <td>
                                         <b>Code Source:</b>
                                    </td>
                                    <td>
                                        <input type="url" ng-model="model_instance.source" required/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                         <b>Private: </b>
                                    </td>
                                    <td>
                                        <label><input type="radio" ng-model="model.private" value="false"/>no</label> &emsp;
                                   <label><input type="radio" ng-model="model.private" value="true" />yes</label>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td>
                    <table >
                        <tbody>
                            <td>
                            <b>Description:</b> <br>
                            <textarea class="scrollabletextbox" rows="10" cols="80" ng-model="model.description" required></textarea><br />
                            </td>
                        </tbody>
                    </table>
                    </td>
                    <td>
                        <table>
                            <tbody>
                                <td>
                                <label> <button type="button" id="plusI" class="glyphicon glyphicon-paperclip" ng-click="displayAddImage()"></button> Join an image</label> 
                                </td>
                            <!--<button type="button" ng-click="showPopup()" class="btn btn-default btn-xs">popup</button>-->
                                <br/> 
                                    <table >
                                        <tbody ng-repeat=" Image in model_image ">

                                    <td id=images>
                                        <button id=button-sup type="button" class="glyphicon glyphicon-remove" ng-click="deleteImage($index)"></button>
                                        {{Image.url}}
                                    </td>
                                        </tbody>
                                    </table>
                                  
                            </td>
                </tr>
                        </tbody>
                    </table>

        <br/>
    <div class= "w3-card-4  w3-hover-shadow ng-cloak" id="ImagePopup">
    <style>
        .ng-cloak {
            display: none !important;
        }
    </style>
    <div id=ImagePopupHead class="panel-heading"> <b>Add an image to the model decription </b> <button id="close-button" type="button" class="glyphicon glyphicon-remove" ng-click="closeImagePanel()"></button></div>
    <div class="panel-body">
        <table>
            <tbody>
                <tr>
                    <td>
                        <b>Url:</b>
                    </td>
                    <td>
                        <input type="url" ng-model="image.url" required></input>
                    </td>
                </tr>
                 <tr>
                    <td>
                        <b>Caption: </b>
                    </td>
                    <td>
                        <textarea type="textarea" ng-model="image.caption"> </textarea>
                    </td>
                </tr>
            </tbody>
        </table>
        <br> <br>
        <div>
         <button id=save-button type="button" class="btn btn-primary" ng-click="saveImage()">Save</button>
        </div>
    </div></div>

        <div class="navbar navbar-form">
            <button type="submit" class="btn btn-primary" ng-click=saveModel()>Save</button>
        </div>
    </form>



</body>
</html>