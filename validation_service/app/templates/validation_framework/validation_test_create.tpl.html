<div ng-controller="ValTestCreateCtrl">
    <nav class="navbar">
        <br>
        <button class="button-MC" ng-click="Context.validation_goToHomeView();">Home</button>&ensp;

        <h1 align=center> Test catalog </h1>
    </nav>
    <h2 align=center>Create new Test</h2>

    <br>
    <br>
    <h3>Test definition</h3>

    <div>
        <form class="simple-form">
            <table>
                <tbody>
                    <tr>
                        <td>
                            <table id="table-create">
                                <tbody>
                                    <tr>
                                        <td>
                                            <b>Name:</b>
                                        </td>
                                        <td>
                                            <input type="text" ng-model="test.name" required/>
                                            <a class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" data-placement="right" title="Example: This is the name of my test"></a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <b>Alias:</b>
                                        </td>
                                        <td>
                                            <input type="text" ng-model="test.alias" />
                                            <a class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" data-placement="right" title="Example: Test#1"></a>
                                            <button type="button" ng-click=checkAliasValidity()> Check validity</button>
                                            <br>
                                            <span ng-show="alias_is_valid.is_valid==false" class="red-font">This alias already exists. Please choose another one. </span>
                                            <span ng-show="alias_is_valid.is_valid==true" class="green-font">This alias is valid!</span>

                                        </td>
                                        <td>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <b>Author:</b>
                                        </td>
                                        <td>
                                            <input type="text" ng-model="test.author" required/>
                                            <a class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" data-placement="right" title="Example: John Smith"></a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <b>Version Name:</b>
                                        </td>
                                        <td>
                                            <input type="text" ng-model="code.version" required/>
                                            <a class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" data-placement="right" title="Example: version 1.0"></a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <b>Publication:</b>
                                        </td>
                                        <td>
                                            <input type="text" ng-model="test.publication" required/>
                                            <a class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" data-placement="right" title="Example: paper example ..."></a>
                                        </td>
                                    </tr>
                                    <tr>

                                        <td>
                                            <b>Protocol description:</b>
                                        </td>
                                        <td>
                                            <textarea class="scrollabletextbox" rows="10" cols="60" ng-model="test.protocol" required></textarea>
                                            <a class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" data-placement="right" title="Example: protocole description example ..."></a><br /> <br>
                                        </td>

                                    </tr>
                                </tbody>
                            </table>
                        </td>
                        <td>
                            <table id="table-create">
                                <tbody>
                                    <tr>
                                        <td>
                                            <b>Species:</b>
                                        </td>
                                        <td>
                                            <select id="select-species" data-style="btn-primary" ng-model="test.species" required>
                                         <option ng-repeat="s in species" value="{{s}}">{{s}}</option>
                                    </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <b>Brain region: </b>
                                        </td>
                                        <td>
                                            <select id="select-brain-region" data-style="btn-primary" ng-model="test.brain_region" required>
                                         <option ng-repeat="br in brain_region" value="{{br}}">{{br}}</option>
                                    </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <b>Cell type:</b>
                                        </td>
                                        <td>
                                            <select id="select-cell-type" data-style="btn-primary" ng-model="test.cell_type" required>
                                         <option ng-repeat="ct in cell_type" value="{{ct}}">{{ct}}</option>
                                    </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <b>Age:</b>
                                        </td>
                                        <td>
                                            <input type="text" id="select-age" data-style="btn-primary" ng-model="test.age" required>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <b>Data modality:</b>
                                        </td>
                                        <td>

                                            <select id="select-data-modalities" data-style="btn-primary" ng-model="test.data_modality" required>
                                         <option ng-repeat="dm in data_modalities" value="{{dm}}">{{dm}}</option>
                                    </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <b>Test type:</b>
                                        </td>
                                        <td>
                                            <select id="select-test-type" data-style="btn-primary" ng-model="test.test_type" required>
                                         <option ng-repeat="tt in test_type" value="{{tt}}">{{tt}}</option>
                                    </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <b>Score type:</b>
                                        </td>
                                        <td>
                                            <select id="select-score-type" data-style="btn-primary" ng-model="test.score_type" required>
                                         <option ng-repeat="st in auhtorized_params.score_type" value="{{st.authorized_value}}">{{st.authorized_value}}</option>
                                    </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <b>Data type:</b>
                                        </td>
                                        <td>
                                            <input type="text" id="select-data_type" data-style="btn-primary" ng-model="test.data_type" required>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <b>data location:</b>
                                        </td>
                                        <td>
                                            <input type="text" ng-model="test.data_location" required/>
                                            <a class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" data-placement="right" title="Example: http://github.com"></a>
                                        </td>
                                    </tr>

                                </tbody>
                            </table>
                        </td>
                    </tr>
                </tbody>
            </table>
            <br>
            <h3> Test Code </h3>

            <table>
                <tbody>
                    <tr>

                        <td>
                            <b>Repository:</b>
                        </td>
                        <td>
                            <input type="url" ng-model="code.repository" required/>
                            <a class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" data-placement="right" title="Example: http..."></a>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <b>Path:</b>
                        </td>
                        <td>
                            <input type="text" ng-model="code.path" required/>
                            <a class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" data-placement="right" title="Example: repository"></a>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <b>Version Name:</b>
                        </td>
                        <td>
                            <input type="text" ng-model="code.version" required/>
                            <a class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" data-placement="right" title="Example: version 1.0"></a>
                        </td>
                    </tr>
                </tbody>
            </table>


            <br/>
            <div class="navbar navbar-form ">
                <button ng-click="saveTest()" class="btn btn-primary ">Save</button>

            </div>

        </form>
    </div>